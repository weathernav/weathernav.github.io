(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(e,t,n){e.exports=n(612)},242:function(e,t,n){},612:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(28),i=n.n(r),c=(n(242),n(14)),s=n(15),l=n(17),u=n(16),h=n(18),d=n(235),p=n.n(d),b=n(236),g=parseInt("3600"),f=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={locations:{}},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onRouteSearch",value:function(e){this.setState({locations:e})}},{key:"onDirections",value:function(e){var t=e.routes[0].legs[0].steps,n=this.findWeatherPoints(t).map(function(e){return e.end_location});this.setState({weatherPoints:n})}},{key:"findWeatherPoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.length<=0)return t;var a=e[0],o=a.duration.value,r=e.slice(1);return o+n>g?this.findWeatherPoints(r,[a].concat(Object(b.a)(t)),0):this.findWeatherPoints(r,t,n+o)}},{key:"render",value:function(){var e=this.state,t=e.locations,n=e.weatherPoints,a=this.onRouteSearch.bind(this),o=this.onDirections.bind(this);return this.props.render({locations:t,weatherPoints:n,onRouteSearch:a,onDirections:o})}}]),t}(a.Component),m=google.maps,O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={directions:null,origin:null,destination:null},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,a=n.origin,o=n.destination,r=n.onDirections,i=e.origin,c=e.destination;i&&c&&(a&&a.lat===i.lat&&a.lng===i.lng&&o&&o.lat===c.lat&&o.lng===c.lng||(new m.DirectionsService).route({origin:new m.LatLng(i.lat,i.lng),destination:new m.LatLng(c.lat,c.lng),travelMode:m.TravelMode.DRIVING},function(e,n){n===m.DirectionsStatus.OK&&(t.setState({directions:e}),r(e))}))}},{key:"render",value:function(){var e=this.state.directions;return this.props.render({directions:e})}}]),t}(a.Component),j=n(138),v=n(58),y=(google.maps,function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={points:[]},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.points;this.setState({points:e})}},{key:"render",value:function(){var e=this.state.points;return this.props.render({points:e})}}]),t}(a.Component)),E=n(228),S=(google.maps,function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.point;return console.log(e),o.a.createElement(v.Marker,{position:e,defaultVisible:!1},o.a.createElement(E.InfoBox,{options:{closeBoxURL:"",enableEventPropagation:!0}},o.a.createElement("div",{style:{backgroundColor:"white",opacity:.75,padding:"12px"}},o.a.createElement("div",{style:{fontSize:"16px",fontColor:"#08233B"}},"Hello, Kaohsiung!"))))}}]),t}(a.Component)),w=(google.maps,function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.points.map(function(e,t){return o.a.createElement(S,{key:t,point:e})})}}]),t}(a.Component)),k=(google.maps,Object(j.a)(Object(j.b)({loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"100vh"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),v.withGoogleMap)(function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.weatherPoints,n=e.directions;return o.a.createElement(v.GoogleMap,{defaultZoom:8,defaultCenter:{lat:-34.397,lng:150.644}},n&&o.a.createElement(v.DirectionsRenderer,{directions:n}),t&&o.a.createElement(y,{points:t,render:function(e){return o.a.createElement(w,e)}}))}}]),t}(a.Component))),C=n(229),P=n(94),R=n(230),D=n.n(R),W=n(231),x=n.n(W),B=n(234),I=n.n(B),M=n(233),L=n.n(M),G=n(232),N=n.n(G),T=n(96),z=n.n(T),J=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.onSuggestionSelected;return o.a.createElement("div",null,o.a.createElement(z.a,{onSuggestionSelected:n,renderTarget:function(){return o.a.createElement("div",null)},textFieldProps:{label:t}}))}}]),t}(a.Component),K=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={coordinates:null,err:null},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onSuggestionSelected",value:function(e){var t=this;Object(T.geocodeBySuggestion)(e).then(function(e){if(e.length<1)t.setState({err:new Error("Geocode request completed successfully but without any results")});else{var n=e[0].geometry,a={lat:n.location.lat(),lng:n.location.lng()};t.props.onCoords(a),t.setState({coordinates:a})}}).catch(function(e){t.setState({err:e})})}},{key:"render",value:function(){var e=this.state.err;return this.props.render({err:e,onSuggestionSelected:this.onSuggestionSelected.bind(this)})}}]),t}(a.Component),V=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={origin:null,destination:null},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onCoords",value:function(e,t){this.setState(Object(C.a)({},e,t));var n=this.state,a=n.origin,o=n.destination,r=this.props.onRouteSearch;a&&o&&r({origin:a,destination:o})}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(D.a,{expanded:!0},o.a.createElement(x.a,{expandIcon:o.a.createElement(N.a,null)},o.a.createElement(L.a,{className:e.heading},"Search Weathernav")),o.a.createElement(I.a,null,o.a.createElement(K,{onCoords:this.onCoords.bind(this,"origin"),render:function(e){return o.a.createElement(J,Object.assign({label:"Search Origin"},e))}}),o.a.createElement(K,{onCoords:this.onCoords.bind(this,"destination"),render:function(e){return o.a.createElement(J,Object.assign({label:"Search Origin"},e))}}))))}}]),t}(a.Component),q=Object(P.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})(V),F=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.locations,n=e.weatherPoints,a=e.onRouteSearch,r=e.onDirections;return o.a.createElement("div",null,o.a.createElement(q,{onRouteSearch:a}),o.a.createElement(O,Object.assign({onDirections:r},t,{render:function(e){return o.a.createElement(k,Object.assign({weatherPoints:n},e))}})))}}]),t}(a.Component),H=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,null,o.a.createElement(f,{render:function(e){return o.a.createElement(F,e)}}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[237,2,1]]]);
//# sourceMappingURL=main.9b1a4b52.chunk.js.map